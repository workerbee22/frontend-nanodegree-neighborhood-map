<!-- Import Page -->
<!-- Parses local CSV file and loads into Firestore the ARCBS locations -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <title>RCBS Location Importer</title>
    <style>
      body {
        font-family: 'Roboto', sans-serif;
      }
      h1,h2 {
        color: red;
      }
      h4 {
        color: grey;
      }
      h5 {
        color: grey;
        font-weight: bold;
      }
    </style>
    
</head>
<body>
    <div id="header">
      <h1>Australian RedCross Blood Service</h1>
      <h2>Location Buddy Data Importer</h2>
      <p>This importer webpage custom imports RCBS custom data, processes and filters it for use by the Location Buddy app.</p>
      <hr>
    </div>
    <div id="content">
      <section>
        <h3>Step 1 - RCBS Location Data import</h3>
        <p>Imports CSV file data on RCBS owned locations like processing and donor centres.</p>
        <!-- Local file picker button for CSV file -->
        <input name="myFile" type="file" accept=".csv" id="fileButtonRCBS">
        <p id="resultRcbs"></p>
        <hr>
      </section>
      <section>
        <h3>Step 2 - Hospitals with NICUs and SCUs Location Data import</h3>
        <p>Imports CSV file data on hospital locations known to have NICUs and SCNs.</p>
        <input name="myFile2" type="file" accept=".csv" id="fileButtonHospitals">
        <p id="resultHospitals"></p>
        <hr>
      </section>
      <section>
        <h3>Step 3 - Geo-Code RCBS and Hospital Locations</h3>
        <p>Press this button to batch geo-code all locations you just imported. You will have to press several times to process all batches of locations.</p>
        <button id="geocodeButton" type="button" name="Geo-Code">Geo-Code a Batch</button>
        <p id="resultGeoCode"></p>
        <hr>
      </section>
      <section>
        <h3>Step 4 - Upload data to Firestore</h3>
        <p>Press this button to bulk upload all imported, processed and geo-coded location data to Cloud Firestore.</p>
        <button id="firestoreButton" type="button" name="Firestore">Update Firestore</button>
        <p id="resultFirestore"></p>
        <hr>
      </section>
    </div>
    <!-- Load google maps api for geocoding the locations but no callback becuase not initialising a map -->
    <script src="https://maps.googleapis.com/maps/api/js?&key=AIzaSyBmIHgGgte-OAjIEw4zjeYDWiz3nTFruuQ&v=3" async defer></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <!-- PapaParse via CDN for processing the CSV file -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/4.3.6/papaparse.min.js"></script>
    <!-- Firebase and Cloud Firestore -->
    <script src="https://www.gstatic.com/firebasejs/4.6.0/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.6.0/firebase-firestore.js"></script>
    <script src="js/importScript.js"></script>
</body>
</html>
